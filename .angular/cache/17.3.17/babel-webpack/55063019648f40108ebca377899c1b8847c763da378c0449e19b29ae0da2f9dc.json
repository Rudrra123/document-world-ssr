{"ast":null,"code":"import { HttpClient, HttpEventType } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nfunction CompressPdfComponent_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 13);\n    i0.ɵɵtext(2, \"Select PDF file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 14)(4, \"button\", 15);\n    i0.ɵɵelement(5, \"i\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 15);\n    i0.ɵɵelement(7, \"i\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"span\", 18);\n    i0.ɵɵtext(9, \"or drop PDF here\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction CompressPdfComponent_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 19)(2, \"div\", 20);\n    i0.ɵɵelement(3, \"i\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 23);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function CompressPdfComponent_ng_container_13_Template_button_click_8_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r3 = i0.ɵɵnextContext();\n      $event.stopPropagation();\n      return i0.ɵɵresetView(ctx_r3.resetSingleFile());\n    });\n    i0.ɵɵelement(9, \"i\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.selectedFileSingle.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", (ctx_r3.selectedFileSingle.size / 1024).toFixed(1), \" KB)\");\n  }\n}\nfunction CompressPdfComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"i\", 26);\n    i0.ɵɵtext(2, \" Compress PDF\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction CompressPdfComponent_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"i\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Compressing... \", ctx_r3.progress, \"%\");\n  }\n}\nfunction CompressPdfComponent_div_17_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"p\", 34);\n    i0.ɵɵtext(2, \"Compressing PDF...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 35);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CompressPdfComponent_div_17_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"p\", 37);\n    i0.ɵɵtext(2, \"Uploading...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 38);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 39);\n    i0.ɵɵelement(6, \"div\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 41);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r3.selectedFileSingle == null ? null : ctx_r3.selectedFileSingle.name, \" (\", ((ctx_r3.selectedFileSingle == null ? null : ctx_r3.selectedFileSingle.size) / 1024).toFixed(1), \" KB)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", ctx_r3.progress, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.progress, \"%\");\n  }\n}\nfunction CompressPdfComponent_div_17_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"p\");\n    i0.ɵɵtext(2, \"\\u2705 Compression successful!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\")(4, \"strong\");\n    i0.ɵɵtext(5, \"Size reduced:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"a\", 43);\n    i0.ɵɵelement(8, \"i\", 44);\n    i0.ɵɵtext(9, \" Download PDF \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function CompressPdfComponent_div_17_div_3_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.resetSingleFile());\n    });\n    i0.ɵɵtext(11, \"Start New\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r3.originalSizeKB, \" KB \\u2192 \", ctx_r3.compressedSizeKB, \" KB\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"href\", ctx_r3.downloadUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CompressPdfComponent_div_17_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function CompressPdfComponent_div_17_div_4_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.resetSingleFile());\n    });\n    i0.ɵɵtext(4, \"Try Again\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u274C Error: \", ctx_r3.errorMessage, \"\");\n  }\n}\nfunction CompressPdfComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, CompressPdfComponent_div_17_div_1_Template, 4, 0, \"div\", 29)(2, CompressPdfComponent_div_17_div_2_Template, 9, 5, \"div\", 30)(3, CompressPdfComponent_div_17_div_3_Template, 12, 3, \"div\", 31)(4, CompressPdfComponent_div_17_div_4_Template, 5, 1, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.progress === 0 && ctx_r3.selectedFileSingle && !ctx_r3.downloadUrl && !ctx_r3.errorMessage);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.progress > 0 && ctx_r3.progress < 100);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.downloadUrl && !ctx_r3.errorMessage);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.errorMessage && !ctx_r3.downloadUrl);\n  }\n}\nexport let CompressPdfComponent = /*#__PURE__*/(() => {\n  class CompressPdfComponent {\n    http;\n    selectedFile = null;\n    originalSize = null;\n    compressedSize = null;\n    downloadUrl = null;\n    isUploading = false;\n    uploadProgress = 0;\n    constructor(http) {\n      this.http = http;\n    }\n    onFileSelected(event) {\n      const file = event.target.files[0];\n      if (file && file.type === 'application/pdf') {\n        this.selectedFile = file;\n        this.originalSize = file.size;\n        this.downloadUrl = null;\n        this.compressedSize = null;\n      } else {\n        alert(\"Please select a valid PDF file.\");\n      }\n    }\n    compressPDF() {\n      if (!this.selectedFile) return;\n      const formData = new FormData();\n      formData.append('file', this.selectedFile);\n      this.isUploading = true;\n      this.uploadProgress = 0;\n      this.http.post(`${environment.apiUrl}/compress-pdf`, formData, {\n        responseType: 'blob',\n        reportProgress: true,\n        observe: 'events'\n      }).subscribe(event => {\n        if (event.type === HttpEventType.UploadProgress && event.total) {\n          this.uploadProgress = Math.round(100 * (event.loaded / event.total));\n        }\n        if (event.type === HttpEventType.Response) {\n          const blob = new Blob([event.body], {\n            type: 'application/pdf'\n          });\n          this.compressedSize = blob.size;\n          this.downloadUrl = window.URL.createObjectURL(blob);\n          this.isUploading = false;\n        }\n      }, err => {\n        console.error('Compression failed', err);\n        alert(\"Compression failed. Try again.\");\n        this.isUploading = false;\n      });\n    }\n    static ɵfac = function CompressPdfComponent_Factory(t) {\n      return new (t || CompressPdfComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CompressPdfComponent,\n      selectors: [[\"app-compress-pdf\"]],\n      decls: 18,\n      vars: 10,\n      consts: [[\"fileInputSingle\", \"\"], [\"id\", \"compress-pdf-section\", 1, \"tool-section\"], [1, \"tool-section-title\"], [1, \"fas\", \"fa-compress\"], [1, \"tool-description-section\"], [1, \"main-upload-content\"], [1, \"upload-area-container\"], [1, \"upload-box\", \"main-select-button\", 3, \"dragover\", \"dragleave\", \"drop\"], [\"type\", \"file\", \"accept\", \"application/pdf\", \"hidden\", \"\", 3, \"change\"], [1, \"upload-content\", 3, \"click\"], [4, \"ngIf\"], [1, \"convert-action-btn\", 3, \"click\", \"disabled\"], [\"class\", \"global-status-area\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"select-pdf-file-btn\"], [1, \"select-pdf-file-btn-alt-icons\"], [1, \"small-icon-btn\"], [1, \"fas\", \"fa-cloud-upload-alt\"], [1, \"fas\", \"fa-exchange-alt\"], [1, \"or-drop-text\"], [1, \"file-preview-area\"], [1, \"file-thumbnail\"], [1, \"fas\", \"fa-file-pdf\", \"file-pdf-icon\"], [1, \"file-name-display\"], [1, \"file-size-display\"], [\"type\", \"button\", 1, \"remove-file-preview-btn\", 3, \"click\"], [1, \"fas\", \"fa-times-circle\"], [1, \"fas\", \"fa-compress-alt\"], [1, \"fas\", \"fa-spinner\", \"fa-spin\"], [1, \"global-status-area\"], [\"class\", \"loading-animation-container\", 4, \"ngIf\"], [\"class\", \"progress-info-block\", 4, \"ngIf\"], [\"class\", \"result-message-box success\", 4, \"ngIf\"], [\"class\", \"result-message-box error\", 4, \"ngIf\"], [1, \"loading-animation-container\"], [1, \"loading-text\"], [1, \"spinner\"], [1, \"progress-info-block\"], [1, \"upload-progress-text\"], [1, \"upload-file-details\"], [1, \"progress-indicator\", \"upload-progress-bar\"], [1, \"progress-bar-fill\"], [1, \"upload-percentage-text\"], [1, \"result-message-box\", \"success\"], [\"download\", \"compressed.pdf\", 1, \"download-btn\", 3, \"href\"], [1, \"fas\", \"fa-download\"], [\"type\", \"button\", 1, \"reset-conversion-btn\", 3, \"click\"], [1, \"result-message-box\", \"error\"]],\n      template: function CompressPdfComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"section\", 1)(1, \"h2\", 2);\n          i0.ɵɵelement(2, \"i\", 3);\n          i0.ɵɵtext(3, \" Compress PDF\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\", 4);\n          i0.ɵɵtext(5, \"Reduce the file size of your PDF without compromising much quality.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"label\", 7);\n          i0.ɵɵlistener(\"dragover\", function CompressPdfComponent_Template_label_dragover_8_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onDragOverSingle($event));\n          })(\"dragleave\", function CompressPdfComponent_Template_label_dragleave_8_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onDragLeaveSingle($event));\n          })(\"drop\", function CompressPdfComponent_Template_label_drop_8_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onDropSingle($event));\n          });\n          i0.ɵɵelementStart(9, \"input\", 8, 0);\n          i0.ɵɵlistener(\"change\", function CompressPdfComponent_Template_input_change_9_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onFileSelectedSingle($event));\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"div\", 9);\n          i0.ɵɵlistener(\"click\", function CompressPdfComponent_Template_div_click_11_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const fileInputSingle_r2 = i0.ɵɵreference(10);\n            return i0.ɵɵresetView(fileInputSingle_r2.click());\n          });\n          i0.ɵɵtemplate(12, CompressPdfComponent_ng_container_12_Template, 10, 0, \"ng-container\", 10)(13, CompressPdfComponent_ng_container_13_Template, 10, 2, \"ng-container\", 10);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(14, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function CompressPdfComponent_Template_button_click_14_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.compressPdfFile());\n          });\n          i0.ɵɵtemplate(15, CompressPdfComponent_ng_container_15_Template, 3, 0, \"ng-container\", 10)(16, CompressPdfComponent_ng_container_16_Template, 3, 1, \"ng-container\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(17, CompressPdfComponent_div_17_Template, 5, 4, \"div\", 12);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵclassProp(\"active\", ctx.activeTool === \"compress-pdf\");\n          i0.ɵɵadvance(8);\n          i0.ɵɵclassProp(\"drag-over\", ctx.isDragging);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", !ctx.selectedFileSingle);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedFileSingle);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", !ctx.selectedFileSingle || ctx.progress > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.progress === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.progress > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.progress > 0 || ctx.downloadUrl || ctx.errorMessage);\n        }\n      },\n      dependencies: [i2.NgIf]\n    });\n  }\n  return CompressPdfComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}